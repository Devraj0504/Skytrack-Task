{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html lang="en" >

<head> 
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="csrf-token" content="{{ csrf_token }}">
<title>Skytracker</title>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


<meta name="msapplication-TileColor" content="#ffffff">
<meta name="theme-color" content="#ffffff">
<!-- Sweet Alert -->
<link type="text/css" href="{% static 'vendor/sweetalert2/dist/sweetalert2.min.css' %}" rel="stylesheet">
<link rel="shortcut icon" href="{% static "images/favicon.png" %}" type="image/x-icon">

<!-- Notyf -->
<link type="text/css" href="{% static 'vendor/notyf/notyf.min.css' %}" rel="stylesheet">

<!-- Main CSS -->
<link type="text/css" href="{% static 'css/volt.css' %}" rel="stylesheet">
<link type="text/css" href="https://appsrv1-147a1.kxcdn.com/volt-dashboard/vendor/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

 <!-- DataTables CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.2/css/buttons.dataTables.min.css">

  <!-- Bootstrap Datepaginator CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-datepaginator@1.1.0/dist/bootstrap-datepaginator.min.css" rel="stylesheet">

  <!-- jQuery and DataTables JS -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/dataTables.buttons.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.print.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>

  {% comment %} Calender links {% endcomment %}
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@3.2.0/dist/fullcalendar.min.css" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@3.2.0/dist/fullcalendar.min.js"></script>  

  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

</head>
<body style="font-weight:200;" >

    <div class="body" >
        {% include 'includes/navigation.html' %}
          {% include 'includes/sidebar.html' %}
          <!-- Main Content -->
           
          <div class="content mt-6 px-3" >
              {% block content %}
              {% endblock content %}
          </div>
    </div> 
 <!-- Core -->
 <script src="{% static "vendor/@popperjs/core/dist/umd/popper.min.js" %}"></script>
 <script src="{% static "vendor/bootstrap/dist/js/bootstrap.min.js" %}"></script>
 

<!-- Required Scripts -->
{% comment %} <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> {% endcomment %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap-datepaginator@1.1.0/dist/bootstrap-datepaginator.min.js"></script>

 <!-- Vendor JS -->
 <script src="{% static "vendor/onscreen/dist/on-screen.umd.min.js" %}"></script>

 
 <!-- Smooth scroll -->
 <script src="{% static "vendor/smooth-scroll/dist/smooth-scroll.polyfills.min.js" %}"></script>
 

 <!-- Moment JS -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.27.0/moment.min.js"></script>
 
 <!-- Vanilla JS Datepicker -->
 <script src="{% static "vendor/vanillajs-datepicker/dist/js/datepicker.min.js" %}"></script>
 
 <!-- Notyf -->
 <script src="{% static "vendor/notyf/notyf.min.js" %}"></script>
 
 <!-- Simplebar -->
 <script src="{% static "vendor/simplebar/dist/simplebar.min.js" %}"></script>
 
 <!-- Main JS -->
 <script src="{% static "assets/js/volt.js" %}"></script>
 {% comment %} <script>
  let inactivityTime = function () {
      let timer;
      function logoutUser() {
          window.location.href = "{% url 'logout' %}";
      }

      function resetTimer() {
          clearTimeout(timer);
          timer = setTimeout(logoutUser, 7200000); 
      }

      window.onload = resetTimer;
      document.onmousemove = resetTimer;
      document.onkeydown = resetTimer;
      document.onclick = resetTimer;
      document.onscroll = resetTimer;
  };

  inactivityTime();
</script> {% endcomment %}

<!-- Global Fullscreen Loader Overlay -->
<div id="uploadLoader" class="d-none" style="
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  background-color: rgba(255, 255, 255, 0.7);
  z-index: 1055;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
">
  <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
    <span class="visually-hidden">Please wait...</span>
  </div>
  <div class="mt-3 fw-bold">Please wait...</div>
</div>

<script>
  function showLoader() {
    $('#uploadLoader').removeClass('d-none');
  }

  function hideLoader() {
    $('#uploadLoader').addClass('d-none');
  }


  function deleteObject(el) {
    const url = $(el).data("url");
    if (!confirm("Are you sure you want to delete this?")) return;

    showLoader();
    $.post(url, { csrfmiddlewaretoken: $("input[name=csrfmiddlewaretoken]").val() })
        .done(response => {
            hideLoader();
            showAlert(response.status, response.message);
            // optionally refresh table/list
            if (typeof loadFunctions === "function") loadFunctions();
        })
        .fail(() => {
            hideLoader();
            showAlert("error", "Something went wrong");
        });
  }


  // Utility for showing alerts
function showAlert(type, message) {
    const alertDiv = document.createElement('div');
    alertDiv.className = type === 'success' ? 'custom-alert-success' : 'custom-alert-error';
    alertDiv.innerHTML = message;
    document.body.appendChild(alertDiv);
    setTimeout(() => alertDiv.remove(), 2000);
}
</script>


 </body>
 </html>
 